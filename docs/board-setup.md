# Miroボード設定ガイド

このガイドでは、MiroボードをRedmine連携用に設定する方法について説明します。

## 事前準備

- [installation.md](installation.md)の手順に従って、Miro-Redmine Integrationツールがインストールされていること
- Miroアカウントへのアクセス権限があること
- 連携したいRedmineプロジェクトが存在していること

## ステップ1: Miroボードの作成

1. Miroにログインし、新しいボードを作成します。
   * 既存のボードを使用することもできますが、最初は専用のボードを作成することをお勧めします。

   ![Miroボード作成画面](images/miro-create-board.png)

2. ボードに適切な名前を付けます（例: 「プロジェクトX スクラムボード」）

## ステップ2: ボードの基本レイアウト設定

Redmineとの連携に最適な基本レイアウトを設定します。以下にいくつかのレイアウト例を示します。

### スクラム/カンバンボードのレイアウト例

最も一般的なレイアウトは、スクラム/カンバンボードです：

1. ボードの上部に「Redmine連携ボード」などのタイトルを追加します。
2. 以下のようなカラムを左から右に配置します：
   * バックログ（Backlog）
   * ToDo
   * 進行中（In Progress）
   * レビュー（Review）
   * 完了（Done）

![スクラムボードレイアウト例](images/miro-scrum-layout.png)

### フェーズベースのレイアウト例

プロジェクトフェーズに基づいたレイアウトも効果的です：

1. ボードを以下のセクションに分割します：
   * 企画（Planning）
   * 設計（Design）
   * 開発（Development）
   * テスト（Testing）
   * リリース（Release）

![フェーズベースレイアウト例](images/miro-phase-layout.png)

### チーム別レイアウト例

複数チームが関わるプロジェクトでは、チーム別のレイアウトが便利です：

1. ボードを横方向にステータスカラム、縦方向にチーム別セクションで区切ります：
   * フロントエンドチーム
   * バックエンドチーム
   * デザインチーム
   * QAチーム

![チーム別レイアウト例](images/miro-team-layout.png)

必要に応じてカラムを追加したり、命名を変更したりできます。重要なのは、Redmineのチケットステータスと対応付けしやすいレイアウトにすることです。

## ステップ3: Redmine連携のセットアップ

1. Miro-Redmine Integrationツールの管理画面（`http://localhost:3000`）にアクセスします。
2. 「ボード設定」タブを選択します。

   ![ボード設定画面](images/admin-board-settings.png)

3. 「Miroボード接続」セクションで、作成したボードのIDを入力します。
   * ボードIDはMiroボードのURLから取得できます：`https://miro.com/app/board/BOARD_ID/`
   * URLの最後の部分（例: `o9J_lK2EPpQ=`）がボードIDです

4. 「Redmineプロジェクト接続」セクションで、連携するRedmineプロジェクトのIDまたはキーを入力します。

5. 「マッピング設定」セクションで、MiroボードのカラムとRedmineのチケットステータスのマッピングを設定します。
   * 例:
     * バックログ ⟷ 新規（New）
     * ToDo ⟷ 着手（Assigned）
     * 進行中 ⟷ 進行中（In Progress）
     * レビュー ⟷ フィードバック（Feedback）
     * 完了 ⟷ 終了（Closed）

   ![ステータスマッピング設定](images/status-mapping-config.png)

6. 「保存」ボタンをクリックして設定を保存します。

## ステップ4: ボードテンプレートの設定

効率的なワークフローのために、いくつかのテンプレートを設定することをお勧めします：

### チケットカードのテンプレート

1. Miroのスティッキーノートまたはカードを使用
   * 以下の情報フィールドを含めることをお勧めします：
     * チケット番号
     * タイトル
     * 担当者
     * 優先度
     * 期日

   ![チケットカードテンプレート](images/ticket-card-template.png)

### カラーコーディング

視覚的にわかりやすくするために、色分けを設定します：

1. 優先度別の色分け
   * 高優先度=赤
   * 通常=黄
   * 低=緑

2. チケットタイプ別の色分け
   * バグ=赤
   * 機能追加=青
   * サポート=紫

   ![カラーコーディング例](images/color-coding-example.png)

### ラベル

1. プロジェクトフェーズのラベル
   * 例: 「Phase 1」、「MVP」、「v2.0」など

2. チームまたは担当部署のラベル
   * 例: 「フロントエンド」、「バックエンド」、「デザイン」など

   ![ラベル例](images/labels-example.png)

## ステップ5: ボード同期のテスト

設定が完了したら、同期機能をテストします：

1. Miro-Redmine Integrationツールの管理画面で「同期テスト」ボタンをクリックします。

   ![同期テスト画面](images/sync-test-screen.png)

2. テストが成功すると、Miroボードにテスト用のカードが表示され、数秒後に自動的に削除されます。

3. 実際のRedmineチケットを同期するには、「チケット同期」ボタンをクリックします。
   * 初回同期時は、Redmineプロジェクトのすべてのアクティブなチケットがボードに追加されます。

   ![同期結果例](images/sync-result-example.png)

## レイアウトのカスタマイズ例

以下にいくつかの実践的なレイアウトカスタマイズ例を示します：

### 1. 優先度別の行を追加したスクラムボード

![優先度別スクラムボード](images/priority-based-scrum.png)

優先度ごとに行を分け、各優先度内でステータスに応じてカードを配置します。

### 2. タイムラインを追加したカンバンボード

![タイムライン付きカンバンボード](images/timeline-kanban.png)

通常のカンバンボードに時間軸を追加し、期限を視覚的に表現します。

### 3. 依存関係を可視化したネットワーク型ボード

![ネットワーク型ボード](images/network-board.png)

チケット間の依存関係を矢印で表し、作業の順序や関連性を視覚化します。

## 日常的な使用

ボードの設定が完了したら、日常的な使用方法については [operation-flow.md](operation-flow.md) を参照してください。ここでは、以下のようなタスクの実行方法が説明されています：

- 新しいチケットの作成と割り当て
- チケットステータスの変更
- コメントの追加
- 同期スケジュールの設定

## トラブルシューティング

### よくある問題と解決策

1. **チケットが表示されない**
   * Redmineプロジェクトとボードの接続設定を確認してください
   * フィルター設定が適切か確認してください
   * 手動で「同期」ボタンをクリックしてみてください

2. **チケットが正しい位置に表示されない**
   * ステータスマッピングを確認してください
   * ボードレイアウトが変更された場合は、設定も更新してください

3. **ドラッグ＆ドロップが機能しない**
   * ブラウザをリフレッシュしてください
   * Miroアカウントの権限を確認してください
   * APIキーとトークンが有効か確認してください

4. **同期エラーが表示される**
   * ログを確認して具体的なエラー内容を特定してください
   * ネットワーク接続を確認してください
   * [troubleshooting.md](troubleshooting.md)を参照してください

## ボード管理のベストプラクティス

### 大規模プロジェクトでの管理

1. **階層化**
   * 親チケットと子チケットの関係を視覚的に表現
   * エピック > ストーリー > タスク の階層を色やサイズで区別

2. **フィルタリング**
   * 担当者、優先度、ラベルでフィルタリングする習慣をつける
   * 定期的に完了チケットをアーカイブする

3. **定期的なクリーンアップ**
   * スプリント終了時にボードを整理
   * 不要なカードやノートを削除

### リモートチームでの効果的な活用

1. **リアルタイムコラボレーション**
   * ビデオ会議中にボードを共有
   * カーソル位置を表示し、注目ポイントを明確に

2. **非同期コミュニケーション**
   * コメントやノートで情報を共有
   * 変更をメンバーに通知するプロセスを確立

3. **タイムゾーン考慮**
   * 各メンバーのタイムゾーンを表示
   * 作業時間が重なるタイミングを視覚化

## 異なるチームサイズでの設定例

### 小規模チーム（5人以下）

* シンプルなカンバンボード
* 全てのチケットを1つのボードで管理
* 週次のボード更新ミーティング

![小規模チーム設定例](images/small-team-board.png)

### 中規模チーム（5-15人）

* チーム別またはコンポーネント別にセクション分け
* フィルタリング機能を積極的に活用
* デイリースタンドアップでの利用

![中規模チーム設定例](images/medium-team-board.png)

### 大規模チーム（15人以上）

* 複数ボードの階層構造
* チーム/機能ごとに別ボード
* 統合ダッシュボードでの全体把握

![大規模チーム設定例](images/large-team-board.png)

## 注意事項

- ボードレイアウトを大幅に変更すると、同期設定も更新する必要があります。
- 多数のチケットを同期すると、ボードが混雑する可能性があります。フィルタリングやグループ化機能を活用してください。
- 重要な変更を行う前に、ボードのバックアップを作成することをお勧めします。
- 大量のチケット（500以上）がある場合は、複数のボードに分割することを検討してください。

## スクリーンショットギャラリー

以下に実際の使用例のスクリーンショットを示します：

### スクラムボード実例

![スクラムボード実例1](images/scrum-example-1.png)
*スプリント計画中のボード状態*

![スクラムボード実例2](images/scrum-example-2.png)
*スプリント進行中のボード状態*

### カンバンボード実例

![カンバンボード実例](images/kanban-example.png)
*継続的デリバリーチームによるカンバンボード*

### プロダクトロードマップ実例

![ロードマップ実例](images/roadmap-example.png)
*四半期ごとの開発計画を視覚化したロードマップ*

### レトロスペクティブボード実例

![レトロスペクティブ実例](images/retro-example.png)
*スプリントレビューとレトロスペクティブのためのボード*
